import React, { useState } from 'react';
import { 
  BookOpen, 
  Sparkles, 
  ShieldCheck, 
  Scale, 
  Database, 
  Users, 
  Share2, 
  Smartphone, 
  QrCode, 
  Link as LinkIcon,
  ChevronDown,
  ChevronUp,
  MessageSquare,
  Cpu,
  GraduationCap,
  ChefHat,
  Dumbbell
} from 'lucide-react';

// Reusable Accordion Component for the Intro Section
const Accordion = ({ title, icon: Icon, children }) => {
  const [isOpen, setIsOpen] = useState(false);
  return (
    <div className="border border-emerald-100 rounded-xl mb-3 overflow-hidden bg-white shadow-sm transition-all duration-200">
      <button 
        onClick={() => setIsOpen(!isOpen)}
        className="w-full flex items-center justify-between p-4 text-left hover:bg-emerald-50 transition-colors focus:outline-none"
      >
        <div className="flex items-center gap-3">
          <div className="p-2 bg-emerald-100 text-emerald-700 rounded-lg">
            <Icon size={20} />
          </div>
          <h3 className="font-semibold text-slate-800">{title}</h3>
        </div>
        {isOpen ? <ChevronUp size={20} className="text-slate-400" /> : <ChevronDown size={20} className="text-slate-400" />}
      </button>
      {isOpen && (
        <div className="p-4 pt-0 text-slate-600 border-t border-emerald-50 bg-emerald-50/30">
          <div className="mt-2 leading-relaxed">
            {children}
          </div>
        </div>
      )}
    </div>
  );
};

export default function App() {
  // State for the Interactive Identity Builder (Station 2)
  const [role, setRole] = useState('Expert Guide');
  const [tone, setTone] = useState('Warm and Encouraging');
  const [boundary, setBoundary] = useState('Ask clarifying questions before answering');

  const generatedPrompt = `You are an AI acting as a ${role}. Your primary tone should be ${tone}. When interacting with users, you must strictly follow this rule: ${boundary}. Prioritize the user's specific context and uploaded knowledge over general information.`;

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-800 selection:bg-emerald-200">
      
      {/* Navigation / Sticky Header */}
      <nav className="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div className="max-w-6xl mx-auto px-6 py-4 flex flex-wrap items-center justify-between gap-4">
          <div className="flex items-center gap-2 font-bold text-xl text-emerald-800 tracking-tight">
            <Sparkles className="text-amber-500" size={24} />
            Hidden GEMS
          </div>
          <div className="hidden md:flex gap-6 text-sm font-medium text-slate-600">
            <a href="#pitch" className="hover:text-emerald-600 transition-colors">Promo Pitch</a>
            <a href="#intro" className="hover:text-emerald-600 transition-colors">Introduction</a>
            <a href="#project" className="hover:text-emerald-600 transition-colors">The Project</a>
            <a href="#stations" className="hover:text-emerald-600 transition-colors">Build Stations</a>
          </div>
          <div className="text-xs font-semibold bg-emerald-100 text-emerald-800 px-3 py-1.5 rounded-full flex items-center gap-1.5">
            <Users size={14} /> UNC Charlotte Alumni
          </div>
        </div>
      </nav>

      <main className="max-w-6xl mx-auto px-6 py-12 space-y-24">

        {/* Hero Section */}
        <section className="relative rounded-3xl overflow-hidden shadow-2xl bg-slate-900 border border-slate-800">
          <div className="absolute inset-0 bg-gradient-to-br from-emerald-900 via-slate-900 to-emerald-950 opacity-90"></div>
          {/* Decorative graphic */}
          <div className="absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-amber-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20"></div>
          <div className="absolute bottom-0 left-0 -mb-20 -ml-20 w-72 h-72 bg-emerald-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20"></div>
          
          <div className="relative z-10 p-10 md:p-20 text-center md:text-left flex flex-col md:flex-row gap-12 items-center">
            <div className="flex-1 space-y-8">
              <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 text-emerald-200 border border-white/20 text-sm font-medium backdrop-blur-sm">
                <GraduationCap size={16} /> Workshop Session
              </div>
              <h1 className="text-4xl md:text-6xl font-extrabold text-white leading-tight tracking-tight">
                Hidden <span className="text-amber-400">GEMS</span>
                <span className="block text-2xl md:text-3xl font-light text-emerald-100 mt-4">
                  From Prompting to Partnerships in Everyday AI
                </span>
              </h1>
              
              <blockquote className="border-l-4 border-amber-400 pl-6 py-2 my-8">
                <p className="text-lg md:text-xl text-slate-300 italic leading-relaxed">
                  "Technology is built by human beings, who bring to it their light and their shadow."
                </p>
                <footer className="mt-3 text-sm text-emerald-300 font-medium">
                  — Verity Harding, <cite>AI Needs You: How We Can Change AI’s Future and Save Our Own</cite>
                </footer>
              </blockquote>
            </div>
          </div>
        </section>

        {/* Promo Pitch Section */}
        <section id="pitch" className="scroll-mt-24 max-w-4xl mx-auto text-center space-y-6">
          <h2 className="text-3xl font-bold text-slate-800">What if your everyday AI could be more?</h2>
          <p className="text-xl text-slate-600 leading-relaxed">
            Everyone has asked ChatGPT a question or two, used AI to write an email, or gotten help with a last-minute dinner recipe. But today, we will explore a powerful tool that anyone can use right now for free with a Google account: <strong className="text-emerald-700">Gemini GEMs</strong>.
          </p>
          <div className="bg-emerald-50 border border-emerald-100 p-8 rounded-2xl mt-8">
            <p className="text-lg text-emerald-900 leading-relaxed font-medium">
              GEMs transform everyday AI use from generic prompting into customizable AI collaboration. Go from prompting to partnership, from AI-driven to human-centered, as we explore how easy it is to curate Google's custom tools to make AI your own, centering your expertise, experience, and needs.
            </p>
          </div>
        </section>

        {/* Introduction Accordions */}
        <section id="intro" className="scroll-mt-24 grid md:grid-cols-2 gap-12 items-start">
          <div className="space-y-6">
            <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-200 text-slate-700 text-sm font-bold">
              5-10 Minutes
            </div>
            <h2 className="text-3xl font-bold text-slate-800">Understanding the Tech</h2>
            <p className="text-slate-600 text-lg leading-relaxed">
              Before we build, let's establish a shared understanding of how these tools work, how they handle your data, and what it means for your custom creations. Click the sections to explore the core concepts.
            </p>
          </div>
          
          <div className="space-y-2">
            <Accordion title="What is a GPT?" icon={Cpu}>
              A <strong>Generative Pre-Trained Transformer</strong> is the underlying architecture of modern AI chatbots. It predicts the next most likely word in a sequence based on vast amounts of training data, allowing it to generate human-like text, answer questions, and assist with tasks.
            </Accordion>
            
            <Accordion title="Retrieval Augmented Generation (RAG)" icon={Database}>
              <strong>RAG</strong> is the secret sauce for custom AI. Instead of relying solely on what the AI memorized during training, RAG allows the AI to "read" specific documents or data you provide <em>before</em> it answers your question. This reduces hallucinations and centers your specific knowledge.
            </Accordion>
            
            <Accordion title="Data Privacy Matters" icon={ShieldCheck}>
              Google provides specific privacy controls for Gemini. By default, some interactions may be reviewed to improve the product, but you can manage these settings in your Google Account. It's crucial to understand what data you are comfortable sharing when building a GEM.
            </Accordion>
            
            <Accordion title="Fair Use & Copyright" icon={Scale}>
              When curating knowledge for your GEM, consider copyright. Utilizing your own materials, open-access documents, public domain works (like Shakespeare), or adhering to fair use guidelines ensures your custom AI is built ethically and legally.
            </Accordion>
          </div>
        </section>

        {/* The Project (Niner Knowledge) */}
        <section id="project" className="scroll-mt-24">
          <div className="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden flex flex-col md:flex-row">
            <div className="md:w-2/5 bg-emerald-800 text-white p-10 flex flex-col justify-center relative overflow-hidden">
              <div className="absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-transparent"></div>
              <div className="relative z-10">
                <h2 className="text-3xl font-bold mb-4">Niner Knowledge</h2>
                <h3 className="text-xl text-amber-400 font-medium mb-6">Your Everyday Collaborator</h3>
                <p className="text-emerald-100 leading-relaxed mb-8">
                  This is the GEM we will build together today! A custom generative AI built specifically for UNC Charlotte Alumni.
                </p>
                <div className="flex items-center gap-3 bg-emerald-900/50 p-4 rounded-xl border border-emerald-700/50 backdrop-blur-sm">
                  <div className="bg-white text-emerald-800 p-2 rounded-lg">
                    <Users size={20} />
                  </div>
                  <div>
                    <div className="text-xs text-emerald-300 uppercase font-bold tracking-wider">Prerequisite</div>
                    <div className="font-medium">A Google Account</div>
                  </div>
                </div>
              </div>
            </div>
            <div className="md:w-3/5 p-10 lg:p-16 space-y-6">
              <h3 className="text-2xl font-bold text-slate-800">The Power of Custom GPTs</h3>
              <p className="text-slate-600 leading-relaxed">
                In Google’s platform, custom GPTs are called <strong>GEMs</strong>. Anyone with a Google account can build, share, and use them. They are powerful because they use RAG to center human judgment, expertise, and experience in the process of using AI.
              </p>
              <div className="h-px w-full bg-slate-100 my-6"></div>
              <h3 className="text-2xl font-bold text-slate-800">The Scenario</h3>
              <p className="text-slate-600 leading-relaxed">
                <em>Niner Knowledge</em> is an incredible series of webinars covering topics Charlotte alumni love. What if you could curate that content, access it anytime, collaborate with those experts, and harness all that knowledge whenever you needed it?
              </p>
              <p className="text-slate-600 leading-relaxed font-medium">
                That is what we are building. And when you leave this webinar, you will know how to build GEMs just like this for any situation you can imagine.
              </p>
            </div>
          </div>
        </section>

        {/* Build-A-GEM Stations */}
        <section id="stations" className="scroll-mt-24 space-y-8">
          <div className="text-center mb-12">
            <h2 className="text-4xl font-bold text-slate-800 mb-4">Build-A-GEM Stations</h2>
            <p className="text-xl text-slate-600">The three pillars of crafting your custom AI partner.</p>
          </div>

          {/* Station 1 */}
          <div className="bg-white p-8 md:p-10 rounded-3xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-8 items-center hover:shadow-md transition-shadow">
            <div className="w-full md:w-1/3 flex justify-center">
              <div className="w-32 h-32 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center">
                <BookOpen size={64} />
              </div>
            </div>
            <div className="w-full md:w-2/3 space-y-4">
              <div className="text-amber-600 font-bold tracking-wider uppercase text-sm">Station 1</div>
              <h3 className="text-2xl font-bold text-slate-800">Curating the Knowledge</h3>
              <p className="text-slate-600 leading-relaxed">
                For today's GEM, knowledge is curated across multiple sources. I spent time creating summary overviews of the Niner Knowledge video series using another AI tool called <strong>NotebookLM</strong>. 
              </p>
              <p className="text-slate-600 leading-relaxed">
                You can curate knowledge in many ways: your own materials, open access PDFs, or public domain materials. Imagine a GEM trained on the entire works of William Shakespeare that you can talk to anytime!
              </p>
              <div className="flex flex-wrap gap-4 pt-4">
                <button className="px-5 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-lg transition-colors flex items-center gap-2">
                  <Database size={18} /> Access Google Drive Folder
                </button>
                <button className="px-5 py-2.5 border border-slate-200 hover:bg-slate-50 text-slate-700 font-medium rounded-lg transition-colors flex items-center gap-2">
                  <BookOpen size={18} /> Try the Shakespeare GEM
                </button>
              </div>
            </div>
          </div>

          {/* Station 2 - Interactive */}
          <div className="bg-white p-8 md:p-10 rounded-3xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-12 hover:shadow-md transition-shadow">
            <div className="w-full md:w-1/2 space-y-4">
              <div className="text-emerald-600 font-bold tracking-wider uppercase text-sm">Station 2</div>
              <h3 className="text-2xl font-bold text-slate-800">Identity & Persona</h3>
              <p className="text-slate-600 leading-relaxed">
                Crafting the GEM's identity is where this process gets fun. How do you want it to interact? What is its tone? What are its boundaries?
              </p>
              <p className="text-slate-600 leading-relaxed font-medium">
                This is where YOU, the human expert, come to the front. Use the interactive tool here to draft a system prompt for your GEM.
              </p>
              
              <div className="space-y-4 pt-6 bg-slate-50 p-6 rounded-2xl border border-slate-100">
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-1">What is the GEM's Role?</label>
                  <select 
                    value={role} 
                    onChange={(e) => setRole(e.target.value)}
                    className="w-full p-2.5 rounded-lg border border-slate-300 bg-white focus:ring-2 focus:ring-emerald-500 outline-none"
                  >
                    <option value="Expert Guide">Expert Guide</option>
                    <option value="Creative Brainstormer">Creative Brainstormer</option>
                    <option value="Direct Analyst">Direct Analyst</option>
                    <option value="Socratic Tutor">Socratic Tutor</option>
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-1">What is the Tone?</label>
                  <select 
                    value={tone} 
                    onChange={(e) => setTone(e.target.value)}
                    className="w-full p-2.5 rounded-lg border border-slate-300 bg-white focus:ring-2 focus:ring-emerald-500 outline-none"
                  >
                    <option value="Warm and Encouraging">Warm and Encouraging</option>
                    <option value="Academic and Formal">Academic and Formal</option>
                    <option value="Witty and Conversational">Witty and Conversational</option>
                    <option value="Concise and Professional">Concise and Professional</option>
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-1">Set a Boundary / Rule</label>
                  <select 
                    value={boundary} 
                    onChange={(e) => setBoundary(e.target.value)}
                    className="w-full p-2.5 rounded-lg border border-slate-300 bg-white focus:ring-2 focus:ring-emerald-500 outline-none"
                  >
                    <option value="Ask clarifying questions before answering">Ask clarifying questions before answering</option>
                    <option value="Always cite the source document used">Always cite the source document used</option>
                    <option value="Keep answers under three short paragraphs">Keep answers under three short paragraphs</option>
                    <option value="Refuse to answer questions unrelated to the core topic">Refuse to answer questions unrelated to the core topic</option>
                  </select>
                </div>
              </div>
            </div>
            
            <div className="w-full md:w-1/2 flex flex-col">
              <div className="flex-1 bg-slate-800 text-slate-300 p-6 rounded-2xl shadow-inner font-mono text-sm leading-relaxed flex flex-col">
                <div className="flex items-center justify-between mb-4 border-b border-slate-700 pb-2">
                  <span className="text-emerald-400 font-semibold flex items-center gap-2">
                    <MessageSquare size={16} /> Generated System Prompt
                  </span>
                </div>
                <div className="flex-1 whitespace-pre-wrap">
                  {generatedPrompt}
                </div>
                <button 
                  onClick={() => {
                    navigator.clipboard.writeText(generatedPrompt);
                    // Simple visual feedback could go here, omitting complex alert logic
                  }}
                  className="mt-4 w-full py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-center font-sans font-medium"
                >
                  Copy to Clipboard
                </button>
              </div>
            </div>
          </div>

          {/* Station 3 */}
          <div className="bg-white p-8 md:p-10 rounded-3xl shadow-sm border border-slate-200 flex flex-col md:flex-row-reverse gap-8 items-center hover:shadow-md transition-shadow">
             <div className="w-full md:w-1/3 flex justify-center">
              <div className="w-32 h-32 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center">
                <Share2 size={64} />
              </div>
            </div>
            <div className="w-full md:w-2/3 space-y-4">
               <div className="text-indigo-600 font-bold tracking-wider uppercase text-sm">Station 3</div>
              <h3 className="text-2xl font-bold text-slate-800">Sharing is Caring</h3>
              <p className="text-slate-600 leading-relaxed">
                How do we share GEMs so we can actually use them effectively? Once a GEM is built, sharing it is like sharing a Google Document. 
              </p>
              
              <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 py-4">
                <div className="p-4 border border-slate-100 bg-slate-50 rounded-xl flex flex-col items-center text-center gap-2">
                  <Smartphone className="text-slate-400" size={24} />
                  <span className="text-sm font-medium text-slate-700">Add as a shortcut to your phone's home screen</span>
                </div>
                <div className="p-4 border border-slate-100 bg-slate-50 rounded-xl flex flex-col items-center text-center gap-2">
                  <QrCode className="text-slate-400" size={24} />
                  <span className="text-sm font-medium text-slate-700">Turn into a QR code for presentations or stickers</span>
                </div>
                <div className="p-4 border border-slate-100 bg-slate-50 rounded-xl flex flex-col items-center text-center gap-2">
                  <LinkIcon className="text-slate-400" size={24} />
                  <span className="text-sm font-medium text-slate-700">Copy/Paste the URL to newsletters or emails</span>
                </div>
              </div>

              <div className="pt-2">
                <button className="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 w-full justify-center sm:w-auto shadow-sm shadow-indigo-200">
                  <Share2 size={18} /> Share Your GEM on the Padlet Wall
                </button>
              </div>
            </div>
          </div>
        </section>

        {/* Conclusion / Inspiration */}
        <section className="scroll-mt-24 pt-12 pb-24 border-t border-slate-200">
          <div className="text-center max-w-3xl mx-auto space-y-6">
            <h2 className="text-3xl font-bold text-slate-800">What will you imagine?</h2>
            <p className="text-xl text-slate-600 leading-relaxed">
              Moving from general-purpose AI to customized, human-centered experiences opens up endless possibilities. Here are just a few ideas to get you thinking...
            </p>
            
            <div className="grid grid-cols-1 sm:grid-cols-3 gap-6 pt-8">
              <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:-translate-y-1 transition-transform cursor-default">
                <div className="w-12 h-12 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <ChefHat size={24} />
                </div>
                <h4 className="font-bold text-slate-800 mb-2">Personal Chef</h4>
                <p className="text-sm text-slate-600">Trained on your family recipes, dietary needs, and favorite local grocery stores.</p>
              </div>
              
              <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:-translate-y-1 transition-transform cursor-default">
                <div className="w-12 h-12 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <BookOpen size={24} />
                </div>
                <h4 className="font-bold text-slate-800 mb-2">Walt Whitman</h4>
                <p className="text-sm text-slate-600">Trained on his collected works to give you an inspirational chat and a great YAWP when needed.</p>
              </div>
              
              <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:-translate-y-1 transition-transform cursor-default">
                <div className="w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                  <Dumbbell size={24} />
                </div>
                <h4 className="font-bold text-slate-800 mb-2">Sports Trainer</h4>
                <p className="text-sm text-slate-600">Built around your specific workout schedule, goals, and mobility constraints.</p>
              </div>
            </div>
          </div>
        </section>

      </main>
      
      {/* Footer */}
      <footer className="bg-slate-900 text-slate-400 py-8 text-center text-sm border-t border-slate-800">
        <div className="max-w-6xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4">
          <div className="flex items-center gap-2">
            <Sparkles size={16} className="text-emerald-500" /> Hidden GEMS Workshop
          </div>
          <div>UNC Charlotte Alumni Association</div>
        </div>
      </footer>
    </div>
  );
}