<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workshop Portal: The Human Algorithm</title>
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Global Firebase logic shared with React
        window.FirebaseUtils = {
            initializeApp, getFirestore, collection, addDoc, onSnapshot, serverTimestamp,
            getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged
        };
    </script>
    <style>
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-in { animation: fadeIn 0.4s ease-out forwards; }
        /* Custom scrollbar for a cleaner look */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #cbd5e1; }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { 
            getFirestore, collection, addDoc, onSnapshot, serverTimestamp,
            getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged 
        } = window.FirebaseUtils;

        // Configuration
        const firebaseConfig = JSON.parse(__firebase_config);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'human-algorithm-workshop';
        const app = window.FirebaseUtils.initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        const SKILLS = ['Critical Thinking', 'Creativity', 'Collaboration', 'Frontier Thinking', 'Experiential Learning', 'Design Thinking'];
        const AI_TOOLS = ['GEMs', 'NotebookLM', 'Generative AI', 'Ethical AI'];

        // Icons using Inline SVG (Lucide-like)
        const Icons = {
            Brain: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-2.54Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-2.54Z"/></svg>
            ),
            Lightbulb: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .5 2.2 1.5 3.1.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
            ),
            Users: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            ),
            Send: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
            ),
            User: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            ),
            ExternalLink: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
            ),
            Sparkles: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
            )
        };

        function App() {
            const [user, setUser] = useState(null);
            const [ideas, setIdeas] = useState([]);
            const [newIdea, setNewIdea] = useState('');
            const [selectedSkill, setSelectedSkill] = useState(SKILLS[0]);
            const [selectedAI, setSelectedAI] = useState(AI_TOOLS[0]);
            const [userName, setUserName] = useState('');
            const [authLoading, setAuthLoading] = useState(true);

            useEffect(() => {
                const initAuth = async () => {
                    try {
                        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                            await signInWithCustomToken(auth, __initial_auth_token);
                        } else {
                            await signInAnonymously(auth);
                        }
                    } catch (err) {
                        console.error("Auth failed", err);
                    } finally {
                        setAuthLoading(false);
                    }
                };
                initAuth();
                const unsubscribe = onAuthStateChanged(auth, (u) => setUser(u));
                return () => unsubscribe();
            }, []);

            useEffect(() => {
                if (authLoading || !user) return;
                const ideasRef = collection(db, 'artifacts', appId, 'public', 'data', 'brainstorming');
                const unsubscribe = onSnapshot(ideasRef, (snapshot) => {
                    const docs = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    setIdeas(docs.sort((a, b) => (b.createdAt?.toMillis() || 0) - (a.createdAt?.toMillis() || 0)));
                }, (err) => console.error("Firestore error:", err));
                return () => unsubscribe();
            }, [user, authLoading]);

            const handleSubmitIdea = async (e) => {
                e.preventDefault();
                if (!newIdea.trim() || !user) return;
                try {
                    await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'brainstorming'), {
                        text: newIdea,
                        author: userName.trim() || 'Anonymous Participant',
                        authorId: user.uid,
                        skill: selectedSkill,
                        aiTool: selectedAI,
                        createdAt: serverTimestamp()
                    });
                    setNewIdea('');
                } catch (err) { console.error("Error adding idea:", err); }
            };

            return (
                <div className="min-h-screen bg-slate-50 flex flex-col md:flex-row font-sans">
                    {/* Left: Case Study (Scrollable Sidebar) */}
                    <aside className="w-full md:w-1/2 lg:w-2/5 md:h-screen overflow-y-auto bg-white border-r border-slate-200 p-6 md:p-10 custom-scrollbar">
                        <div className="max-w-2xl mx-auto">
                            <div className="flex items-center gap-2 mb-4">
                                <span className="text-indigo-600"><Icons.Brain /></span>
                                <span className="px-3 py-1 bg-indigo-100 text-indigo-700 text-sm font-semibold rounded-full uppercase tracking-wider">Case Study</span>
                            </div>
                            <h1 className="text-3xl font-bold text-slate-900 mb-8 leading-tight">
                                The Human Algorithm: Why the Future of Learning at UNC Charlotte Must Start with the Soul
                            </h1>
                            
                            <div className="text-slate-700 leading-relaxed space-y-6">
                                <p><strong>CHARLOTTE, NC</strong> — On the third floor of the J. Murrey Atkins Library, the rhythmic, mechanical clicking of mechanical keyboards creates a frantic symphony. Among the hundreds of students hunched over glowing screens is <strong>Addison</strong>, a sophomore at the University of North Carolina at Charlotte.</p>
                                
                                <p>To a casual observer, Addison looks like the model of academic diligence. But beneath the surface of his focused exterior, he is fighting a quiet war against a curriculum that feels increasingly like a series of digital hoops.</p>
                                
                                <p>Addison is a first-generation college student. For his family, his enrollment at UNC Charlotte represents a monumental milestone—the breaking of a ceiling that has stood for generations. He arrived on campus with a passion for the arts: he is a creator who thrives in the visceral world of theater, the tactile joy of crafting, and the complex harmonies of music.</p>
                                
                                <p>However, Addison also carries a diagnosis of ADHD, first identified when he was ten. Despite a lifetime of IEPs, 504 plans, and formal accommodations, the modern "digital-first" classroom presents a unique set of hurdles that no simple extension on a deadline can clear.</p>

                                <h3 className="text-xl font-bold text-slate-900 pt-4">The "Repetitive Rigor" Trap</h3>
                                <p>"I came here ready to be challenged, to be inspired," Addison says, gesturing to a screen filled with open tabs. "But half my nights are spent posting to discussion forums where everyone says the same thing, taking automated quizzes that feel like memory games, and writing essays that feel like I'm just filling a word count. It’s rigorous in terms of time, but it feels hollow in terms of growth."</p>
                                
                                <p>Addison’s experience highlights a growing tension in higher education: the "Repetitive Rigor" trap. As technology has made it easier to assign and grade work, it has also made it easier to inadvertently turn learning into a transactional process of clicking through modules. For a student with ADHD who craves novelty and creative engagement, this environment isn't just boring—it’s a barrier to entry.</p>

                                <h3 className="text-xl font-bold text-slate-900 pt-4">Starting with the Human Experience</h3>
                                <p>The solution, according to educational technologists and advocates at UNC Charlotte, isn't to retreat from technology, but to radically pivot how we deploy it. The proposal is simple yet profound: We must start with the human experience.</p>
                                
                                <p>If we begin by asking what it means to be human in the age of Artificial Intelligence, the conversation shifts. Instead of asking how we can use AI to "monitor" students or "automate" grading, we begin to ask: How can technology empower Addison to turn a sociology essay into a dramatic monologue? How can AI act as a collaborative partner in his creative process rather than a shortcut for a task he finds meaningless?</p>

                                <h3 className="text-xl font-bold text-slate-900 pt-4">Holistic Success and Student Agency</h3>
                                <blockquote className="border-l-4 border-indigo-500 pl-4 py-3 italic text-slate-600 bg-slate-50 rounded-r-lg shadow-sm">
                                    "The American Association of Colleges & Universities (AAC&U) approach to student success emphasizes institutional responsibility that encompasses both academic achievement and the development of skills needed for life after college."
                                </blockquote>

                                <p>The shift toward authentic learning requires three key changes:</p>
                                <ul className="list-disc pl-5 space-y-2 text-slate-600">
                                    <li><strong>Alignment with Goals:</strong> Assignments must bridge the gap between academic requirements and the student’s professional and creative aspirations.</li>
                                    <li><strong>Visible Value:</strong> Students should be able to answer "Why am I doing this?" without pointing to a syllabus.</li>
                                    <li><strong>Technological Agency:</strong> Moving from technology as a medium for submission to technology as a tool for creation.</li>
                                </ul>

                                <h3 className="text-xl font-bold text-slate-900 pt-4">Beyond the Keyboard</h3>
                                <p>As the sun sets over the Charlotte skyline, Addison finally closes his laptop. He didn't finish the third discussion post of the night, but he spent twenty minutes sketching a set design for a play he's reading in his literature class.</p>
                                
                                <p>"When I'm drawing, I'm actually thinking about the characters, the themes, the subtext," he explains. "I'm learning more in those twenty minutes of 'crafting' than in two hours of typing 'I agree with what my classmate said' into a forum."</p>
                                
                                <p className="pb-10">The challenge for the modern university is to ensure that Addison doesn't have to choose between his creative soul and his degree. By centering the human experience in our technological evolution, we can transform the "endless click" into a meaningful journey of discovery.</p>
                            </div>

                            {/* Objective Box */}
                            <div className="mt-8 p-6 bg-slate-50 border border-slate-200 rounded-xl mb-12">
                                <h4 className="flex items-center gap-2 font-bold mb-3 text-slate-900">
                                    <span className="text-indigo-600"><Icons.Lightbulb /></span> Workshop Objective
                                </h4>
                                <p className="text-slate-600 text-sm">
                                    Brainstorm concrete ways Addison can use AI (GEMs, NotebookLM) to amplify his <strong>human skills</strong>. How can AI act as a collaborative partner in his creative process?
                                </p>
                            </div>
                        </div>
                    </aside>

                    {/* Right: Brainstorming (The Idea Lab) */}
                    <main className="flex-1 md:h-screen overflow-y-auto flex flex-col bg-white">
                        <header className="bg-white border-b border-slate-200 p-4 sticky top-0 z-20 flex flex-wrap justify-between items-center gap-4 shadow-sm">
                            <div className="flex items-center gap-4">
                                <div className="flex items-center gap-2">
                                    <span className="text-indigo-600"><Icons.Users /></span>
                                    <h2 className="font-bold text-slate-800">Idea Lab</h2>
                                    <span className="text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full animate-pulse">Live</span>
                                </div>
                                
                                {/* Header GEM Button */}
                                <a 
                                    href="https://gemini.google.com/gem/1lJP5Wvs8uMzJstsnzQCkcv23G3w2TZhj?usp=sharing" 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="hidden sm:inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-1.5 rounded-full font-bold text-xs hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5"
                                >
                                    <Icons.Sparkles />
                                    Collaborate with GEM
                                    <Icons.ExternalLink />
                                </a>
                            </div>

                            <div className="flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-lg px-3 py-1.5">
                                <span className="text-slate-400"><Icons.User /></span>
                                <input 
                                    type="text" 
                                    placeholder="Your Name (Optional)" 
                                    className="bg-transparent text-sm text-slate-700 outline-none w-32 md:w-48"
                                    value={userName}
                                    onChange={(e) => setUserName(e.target.value)}
                                />
                            </div>
                        </header>

                        {/* Mobile GEM Button */}
                        <div className="sm:hidden p-4 bg-indigo-50 border-b border-indigo-100">
                             <a 
                                href="https://gemini.google.com/gem/1lJP5Wvs8uMzJstsnzQCkcv23G3w2TZhj?usp=sharing" 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="flex items-center justify-center gap-2 bg-indigo-600 text-white w-full py-2.5 rounded-lg font-bold text-sm shadow-md"
                            >
                                <Icons.Sparkles />
                                Collaborate with Gemini GEM
                            </a>
                        </div>

                        {/* Input Form */}
                        <div className="p-4 md:p-6 border-b border-slate-100">
                            <form onSubmit={handleSubmitIdea} className="space-y-4 max-w-3xl mx-auto">
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-[10px] font-bold text-slate-500 uppercase mb-1">Human Skill Focus</label>
                                        <select 
                                            className="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-indigo-500 appearance-none"
                                            value={selectedSkill}
                                            onChange={(e) => setSelectedSkill(e.target.value)}
                                        >
                                            {SKILLS.map(s => <option key={s} value={s}>{s}</option>)}
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-[10px] font-bold text-slate-500 uppercase mb-1">AI Tool/Framework</label>
                                        <select 
                                            className="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-indigo-500 appearance-none"
                                            value={selectedAI}
                                            onChange={(e) => setSelectedAI(e.target.value)}
                                        >
                                            {AI_TOOLS.map(t => <option key={t} value={t}>{t}</option>)}
                                        </select>
                                    </div>
                                </div>
                                <div className="relative">
                                    <textarea
                                        className="w-full bg-slate-50 border border-slate-200 rounded-lg p-4 text-slate-800 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 outline-none min-h-[120px] shadow-inner"
                                        placeholder="Share a way Addison could use AI to support his learning..."
                                        value={newIdea}
                                        onChange={(e) => setNewIdea(e.target.value)}
                                    />
                                    <button
                                        type="submit"
                                        className="absolute bottom-4 right-4 bg-indigo-600 hover:bg-indigo-700 text-white p-2 rounded-full shadow-md transition-all hover:scale-105 disabled:opacity-50"
                                        disabled={authLoading || !user || !newIdea.trim()}
                                    >
                                        <Icons.Send />
                                    </button>
                                </div>
                            </form>
                        </div>

                        {/* Idea Stream */}
                        <div className="p-4 md:p-6 grid grid-cols-1 lg:grid-cols-2 gap-4 content-start custom-scrollbar">
                            {ideas.length === 0 ? (
                                <div className="col-span-full py-20 text-center flex flex-col items-center gap-4 text-slate-400">
                                    <Icons.Users />
                                    <p>{authLoading ? 'Connecting to workshop...' : 'No ideas yet. Be the first to contribute!'}</p>
                                </div>
                            ) : (
                                ideas.map((idea) => (
                                    <div key={idea.id} className="bg-white p-5 rounded-xl border border-slate-200 shadow-sm animate-in hover:shadow-md transition-shadow">
                                        <div className="flex gap-2 mb-3">
                                            <span className="px-2 py-0.5 bg-indigo-50 text-indigo-600 text-[10px] font-bold uppercase rounded tracking-wider">{idea.skill}</span>
                                            <span className="px-2 py-0.5 bg-emerald-50 text-emerald-600 text-[10px] font-bold uppercase rounded tracking-wider">{idea.aiTool}</span>
                                        </div>
                                        <p className="text-slate-700 mb-4 whitespace-pre-wrap leading-relaxed text-sm">{idea.text}</p>
                                        <div className="flex items-center justify-between border-t border-slate-50 pt-3">
                                            <div className="flex items-center gap-2">
                                                <div className="w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-[10px] font-bold text-white uppercase">
                                                    {idea.author?.[0] || 'A'}
                                                </div>
                                                <span className="text-xs font-medium text-slate-600 truncate max-w-[120px]">{idea.author}</span>
                                            </div>
                                            <span className="text-[10px] text-slate-400 tabular-nums">
                                                {idea.createdAt ? new Date(idea.createdAt.seconds * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'Just now'}
                                            </span>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
